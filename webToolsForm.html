<html>
	<head> 
		<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' /> 
	</head>
	<body onload="startClock()">
		<div id="EncodeDiv">
			<form name="Encode" action="/base64Encode" method="get">
				Base 64 Encode: <input type="text" name="data">
				<input type="submit" value="Encode">
			</form>
			<textarea name="ResultArea" disabled rows="1" cols="50">{{.Output}}</textarea>
		</div>

		<div id="DecodeDiv">
			<form name="Decode" action="/base64Decode" method="get">
				Base 64 Decode: <input type="text" name="data">
				<input type="submit" value="Decode">
			</form>
			<textarea name="ResultArea" disabled rows="1" cols="50">{{.Output}}</textarea>
		</div>

		<div id="JsonDiv">
			<form name="Json" action="/validateJson" method="get">
				Validate Json: <input type="text" name="data">
				<input type="submit" value="Validate">
			</form>
			<textarea name="ResultArea" disabled rows="1" cols="50">{{.Output}}</textarea>
		</div>

		<div id="Md5HashDiv">
			<form name="Md5Hash" action="/md5Hash" method="get">
				MD5 Hash: <input type="text" name="data">
				<input type="submit" value="Hash">
			</form>
			<textarea name="ResultArea" disabled rows="1" cols="50">{{.Output}}</textarea>
		</div>

		<div id="Sha1HashDiv">
			<form name="Sha1Hash" action="/sha1Hash" method="get">
				SHA-1 Hash: <input type="text" name="data">
				<input type="submit" value="Hash">
			</form>
			<textarea name="ResultArea" disabled rows="1" cols="50">{{.Output}}</textarea>
		</div>

		<div id="TimeToEpochDiv">
			<form name="TimeToEpoch" action="/convertTimeToEpoch" method="get">
				Convert Time to Epoch: <input type="text" name="data">
				<input type="submit" value="Convert">
			</form>
			<textarea name="ResultArea" disabled rows="1" cols="50">{{.Output}}</textarea>
		</div>

		<div id="Clock">
			Current Unix Epoch Time:
			<textarea id="EpochClock" disabled rows="1"></textarea>
			<button type="button" onclick="copyDate()">Copy</button>
		</div><p>

		<div id="TimeFromEpochDiv">
			<form name="TimeFromEpoch" action="/convertTimeFromEpoch" method="get">
				Convert Time from Epoch: <input id="epochTimeInput" type="text" name="data">
				<input type="submit" value="Convert">
			</form>
			<textarea name="ResultArea" disabled rows="1" cols="50">{{.Output}}</textarea>
		</div>

		<script type="text/javascript">
			
			hideAllResultAreas();
			if ({{.Valid}}) {
				console.log("valid response for " + {{.Field}})

				var div = document.getElementById("{{.Field}}");
				var textAreas = div.getElementsByTagName('textarea');
				textAreas[0].style.visibility="visible";
				var inputs = div.getElementsByTagName('input');
				inputs[0].value="{{.Input}}";
			}

			function startClock() {
			    var epoch= Math.round(new Date().getTime()/1000);
			    // document.getElementById('Clock').innerHTML = "Current Unix Epoch Time: " + epoch;
			    document.getElementById('EpochClock').value = epoch;
			    var t = setTimeout(function(){startClock()},500);
			}

			function hideAllResultAreas() {
				console.log("hiding all...")
				var textAreas = document.getElementsByTagName('textarea');
				for (var i = 0, j = textAreas.length; i < j; i++) {
					if (textAreas[i].name.indexOf("Result") > -1)
						textAreas[i].style.visibility="hidden";
				}
			}

			function copyDate() {
				var epoch = Math.round(new Date().getTime()/1000);
				document.getElementById("epochTimeInput").value=epoch;
			}
		</script>
	</body> 
</html>